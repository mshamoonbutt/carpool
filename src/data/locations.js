// Comprehensive Lahore Locations Database
// This file contains all predefined locations for the UniPool application

export const lahoreLocations = {
  // Universities and Educational Institutions
  'FCC University': {
    name: 'Forman Christian College University, Lahore',
    coordinates: [74.331627, 31.522381],
    category: 'university',
    description: 'Main campus of FCC University'
  },
  
  // Airports and Transportation Hubs
  'Lahore Airport': {
    name: 'Allama Iqbal International Airport, Lahore',
    coordinates: [74.4036, 31.5216],
    category: 'transport',
    description: 'Main international airport of Lahore'
  },
  
  // Shopping and Commercial Areas
  'Hafeez Centre': {
    name: 'Hafeez Centre, Gulberg III, Lahore',
    coordinates: [74.343, 31.5155],
    category: 'commercial',
    description: 'Popular shopping center in Gulberg III'
  },
  'Mall Road': {
    name: 'Mall Road, Lahore',
    coordinates: [74.3436, 31.4662],
    category: 'commercial',
    description: 'Historic commercial area in central Lahore'
  },
  
  // DHA Phases - Updated with accurate coordinates
  'DHA Phase 1': {
    name: 'DHA Phase 1, Lahore',
    coordinates: [74.396866, 31.483360],
    category: 'residential',
    description: 'Defence Housing Authority Phase 1'
  },
  'DHA Phase 2': {
    name: 'DHA Phase 2, Lahore',
    coordinates: [74.402000, 31.488000],
    category: 'residential',
    description: 'Defence Housing Authority Phase 2'
  },
  'DHA Phase 3': {
    name: 'DHA Phase 3, Lahore',
    coordinates: [74.373400, 31.474900],
    category: 'residential',
    description: 'Defence Housing Authority Phase 3'
  },
  'DHA Phase 4': {
    name: 'DHA Phase 4, Lahore',
    coordinates: [74.383672, 31.463618],
    category: 'residential',
    description: 'Defence Housing Authority Phase 4'
  },
  'DHA Phase 5': {
    name: 'DHA Phase 5, Lahore',
    coordinates: [74.408593, 31.462539],
    category: 'residential',
    description: 'Defence Housing Authority Phase 5'
  },
  'DHA Phase 6': {
    name: 'DHA Phase 6, Lahore',
    coordinates: [74.458424, 31.471505],
    category: 'residential',
    description: 'Defence Housing Authority Phase 6'
  },
  'DHA Phase 7': {
    name: 'DHA Phase 7, Lahore',
    coordinates: [74.467000, 31.480000],
    category: 'residential',
    description: 'Defence Housing Authority Phase 7'
  },
  'DHA Phase 8': {
    name: 'DHA Phase 8, Lahore',
    coordinates: [74.475000, 31.490000],
    category: 'residential',
    description: 'Defence Housing Authority Phase 8'
  },
  'DHA Phase 9 Prism': {
    name: 'DHA Phase 9 Prism, Lahore',
    coordinates: [74.448300, 31.443500],
    category: 'residential',
    description: 'Defence Housing Authority Phase 9 Prism'
  },
  
  // Major Residential Areas - Updated with accurate coordinates
  'Bahria Town Lahore': {
    name: 'Bahria Town Lahore',
    coordinates: [74.185832, 31.368492],
    category: 'residential',
    description: 'Large residential community'
  },
  'Lake City': {
    name: 'Lake City, Lahore',
    coordinates: [74.252772, 31.353579],
    category: 'residential',
    description: 'Modern residential development'
  },
  'Valencia Town': {
    name: 'Valencia Town, Lahore',
    coordinates: [74.255787, 31.404087],
    category: 'residential',
    description: 'Popular residential area'
  },
  'Wapda Town': {
    name: 'Wapda Town, Lahore',
    coordinates: [74.264289, 31.433003],
    category: 'residential',
    description: 'WAPDA employees residential area'
  },
  'Johar Town': {
    name: 'Johar Town, Lahore',
    coordinates: [74.273038, 31.470037],
    category: 'residential',
    description: 'Large residential community'
  },
  'Allama Iqbal Town': {
    name: 'Allama Iqbal Town, Lahore',
    coordinates: [74.284733, 31.512896],
    category: 'residential',
    description: 'Residential area named after Allama Iqbal'
  },
  'Model Town': {
    name: 'Model Town, Lahore',
    coordinates: [74.323649, 31.481138],
    category: 'residential',
    description: 'Historic planned residential area'
  },
  'Township': {
    name: 'Township, Lahore',
    coordinates: [74.308161, 31.448338],
    category: 'residential',
    description: 'Residential area'
  },
  'Faisal Town': {
    name: 'Faisal Town, Lahore',
    coordinates: [74.304428, 31.476068],
    category: 'residential',
    description: 'Residential community'
  },
  'Muslim Town': {
    name: 'Muslim Town, Lahore',
    coordinates: [74.322952, 31.519123],
    category: 'residential',
    description: 'Residential area'
  },
  'Samanabad': {
    name: 'Samanabad, Lahore',
    coordinates: [74.294067, 31.534645],
    category: 'residential',
    description: 'Residential area'
  },
  'Baghbanpura': {
    name: 'Baghbanpura, Lahore',
    coordinates: [74.356200, 31.542200],
    category: 'residential',
    description: 'Historic residential area'
  },
  
  // Gulberg Areas - Updated with accurate coordinates
  'Gulberg': {
    name: 'Gulberg, Lahore',
    coordinates: [74.343600, 31.549700],
    category: 'residential',
    description: 'Historic residential and commercial area'
  },
  'Gulberg III': {
    name: 'Gulberg III, Lahore',
    coordinates: [74.350837, 31.528112],
    category: 'residential',
    description: 'Modern residential and commercial area'
  },
  'Garden Town': {
    name: 'Garden Town, Lahore',
    coordinates: [74.320120, 31.501600],
    category: 'residential',
    description: 'Planned residential area'
  },
  
  // Military and Government Areas - Updated with accurate coordinates
  'Lahore Cantonment': {
    name: 'Lahore Cantonment',
    coordinates: [74.383000, 31.517000],
    category: 'military',
    description: 'Military cantonment area'
  },
  'Cavalry Ground': {
    name: 'Cavalry Ground, Lahore',
    coordinates: [74.369011, 31.500773],
    category: 'military',
    description: 'Military area and parade ground'
  },
  'Askari 10': {
    name: 'Askari 10, Lahore',
    coordinates: [74.414500, 31.535700],
    category: 'military',
    description: 'Military residential area'
  },
  
  // Major Roads and Highways
  'Raiwind Road': {
    name: 'Raiwind Road, Lahore',
    coordinates: [74.2070, 31.3350],
    category: 'transport',
    description: 'Major road connecting Lahore to Raiwind'
  },
  'Ferozepur Road': {
    name: 'Ferozepur Road, Lahore',
    coordinates: [74.2800, 31.4700],
    category: 'transport',
    description: 'Major road connecting Lahore to Ferozepur'
  },
  'LDA Avenue': {
    name: 'LDA Avenue, Lahore',
    coordinates: [74.2613, 31.4316],
    category: 'transport',
    description: 'Major avenue in Lahore'
  },
  'Canal Bank': {
    name: 'Canal Bank, Lahore',
    coordinates: [74.4000, 31.5750],
    category: 'transport',
    description: 'Road along the canal'
  },
  'Thokar Niaz Baig': {
    name: 'Thokar Niaz Baig, Lahore',
    coordinates: [74.4050, 31.5800],
    category: 'transport',
    description: 'Major intersection and transport hub'
  },
  'Multan Road': {
    name: 'Multan Road, Lahore',
    coordinates: [74.4100, 31.5850],
    category: 'transport',
    description: 'Major road connecting Lahore to Multan'
  },
  
  // Additional areas
  'Gulberg IV': {
    name: 'Gulberg IV, Lahore',
    coordinates: [74.3500, 31.5250],
    category: 'residential',
    description: 'Residential area in Gulberg'
  },
  'Gulberg V': {
    name: 'Gulberg V, Lahore',
    coordinates: [74.3550, 31.5300],
    category: 'residential',
    description: 'Residential area in Gulberg'
  },
  'Askari X': {
    name: 'Askari X, Lahore',
    coordinates: [74.3850, 31.5600],
    category: 'military',
    description: 'Military residential area'
  },
  'Askari XI': {
    name: 'Askari XI, Lahore',
    coordinates: [74.3900, 31.5650],
    category: 'military',
    description: 'Military residential area'
  },
  'Eden Value Homes': {
    name: 'Eden Value Homes, Lahore',
    coordinates: [74.2690, 31.4120],
    category: 'residential',
    description: 'Modern residential development'
  }
};

// Helper functions for location data
export const getLocationByCategory = (category) => {
  return Object.entries(lahoreLocations)
    .filter(([key, location]) => location.category === category)
    .reduce((acc, [key, location]) => {
      acc[key] = location;
      return acc;
    }, {});
};

export const searchLocations = (searchTerm) => {
  const term = searchTerm.toLowerCase();
  return Object.entries(lahoreLocations)
    .filter(([key, location]) => 
      key.toLowerCase().includes(term) ||
      location.name.toLowerCase().includes(term) ||
      location.description.toLowerCase().includes(term)
    )
    .map(([key, location]) => ({
      key,
      ...location,
      relevance: key.toLowerCase() === term ? 1 : 
                 key.toLowerCase().includes(term) ? 0.9 :
                 location.name.toLowerCase().includes(term) ? 0.8 : 0.7
    }))
    .sort((a, b) => b.relevance - a.relevance);
};

export const getNearbyLocations = (lat, lng, radiusKm = 5) => {
  return Object.entries(lahoreLocations)
    .filter(([key, location]) => {
      const distance = calculateDistance(lat, lng, location.coordinates[1], location.coordinates[0]);
      return distance <= radiusKm;
    })
    .map(([key, location]) => ({
      key,
      ...location,
      distance: calculateDistance(lat, lng, location.coordinates[1], location.coordinates[0])
    }))
    .sort((a, b) => a.distance - b.distance);
};

// Calculate distance between two points using Haversine formula
const calculateDistance = (lat1, lng1, lat2, lng2) => {
  const R = 6371; // Earth's radius in kilometers
  const dLat = (lat2 - lat1) * Math.PI / 180;
  const dLng = (lng2 - lng1) * Math.PI / 180;
  const a = 
    Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
    Math.sin(dLng/2) * Math.sin(dLng/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return R * c;
};

// Export categories for easy access
export const locationCategories = {
  university: 'Universities & Educational Institutions',
  transport: 'Transportation Hubs & Major Roads',
  commercial: 'Shopping & Commercial Areas',
  residential: 'Residential Areas',
  military: 'Military & Government Areas'
}; 